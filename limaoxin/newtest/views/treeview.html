<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>测试sheetjs</title>
        <script src="../libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="../libs/bootstrap/3.3.4/dist/js/bootstrap.min.js"></script>  
        <script src="../libs/bootstrap-treeview-master/2.1.0/dist/bootstrap-treeview.min.js"></script>
        <script src="../libs/layui/layui.js"></script>
        <link href="../libs/layui/css/layui.css" rel="stylesheet" />
        <link href="../libs/bootstrap/3.3.4/dist/css/bootstrap.css" rel="stylesheet"> 
        <link href="../libs/bootstrap/3.3.4/dist/css/theme.css" rel="stylesheet"> 
        <link href="../libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.css" rel="stylesheet"> 
        <link href="../libs/bootstrap-treeview-master/2.1.0/dist/bootstrap-treeview.css" rel="stylesheet">
    </head>
    <body>
        <div class="content">
            <div class="module message"  style="margin:0px; " >
                <div class="module-head" >
                    <h2> 缓存查询记录（一周、一个月）</h2> 
                </div> 
                <div class="module-body table">
                    <div id='div_layer'>
                        <div id='MenuTreeview' class='treeview' style="overflow:scroll;"></div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script type="text/javascript">
        
        $(function(){
            $.getJSON('/limaoxin/newtest/views/storage/storage.json',function(data){
                if(data){
                    var newNode = [],temp = [];
                    $.each(data,function(f,first){
                        $.each(first.nodes,function(s,second){
                            $.each(second.nodes,function(t,third){
                                third.second = second.text;
                                third.first = first.text;
                                temp.push(third)
                            })
                        })
				    })
                    console.log(newNode)
                    console.log(temp)
                    $('#MenuTreeview').treeview({
                        silent:true,
                        showIcon: false,
                        hiearchivalcheck:true,
                        data: data,
                        onNodeSelected: function(event, node) {
                            if(node.flag){
                                window.open('/limaoxin/ReportV2/storage/' + node.name, "_blank")
                            }
                        }
                    });
                }
            })
            
        })
    </script>
</html>